<!DOCTYPE html>
<html lang="en">
<head id="head">
  <!--Page Data-->
  <title>Schmidts.Page</title>
  <meta name="description" content="Schmidts.Page is an Alpha rendition of what will be later released as a set of tools for RPGs on the fly.">
  <link rel="shortcut icon" href="/Site-Stuff/Assets/Images/golden_bed.ico">
  <style>
    label:not([hidden]){
      display: block;
    }
    /* body.new-task-page {
      min-width: min-content;
    } */
    main.new-task-page {
      margin: 0 1vw 0 1vw;
    }
    #submit-button {
      font-size: 1em;
      margin: 1em 1em 1em 1.5em;
      height: fit-content;
      transition-duration: 1s;
      transition-property: margin;
    }
    @media(max-width: 364px){
      #submit-button{
        margin: 1em 50% 0 40%;
        
      }
    }
  </style>
</head>
<body class="new-task-page">
    <header id="site-wide-nav-header">
      
    </header>
    <main class="new-task-page">
      <form>
        <fieldset>
          <legend>New Task</legend>
          <input name="taskName" type="text" maxlength="50" placeholder="Task Name Here" required>
        </fieldset>
        <fieldset id="lvlOfImportance">
          <label for="eminanceOfFailure">Eminance of Failure when missed</label>
          <select name="eminanceOfFailure" id="eminanceOfFailure" placeholder="Please Choose..." onchange="showTheThing('eminanceOfFailure', 'Cumulative', 'cumulaNum')" required>
            <option>Immediate</option>
            <option>Cumulative</option>
            <option>Nugatory</option>
          </select>
          <label for="cumulaNum" id="cumulaNumLabel" hidden>Cumulative Limit Before Failure</label>
          <input name="cumulaNum" id="cumulaNum" type="number" step="10" hidden>
        </fieldset>
        <fieldset>
          <label for="taskUnits">Units of Measurement</label>
          <select name="taskUnits" id="taskUnits" placeholder="Please Choose..." onchange="showTheThing('taskUnits', 'Custom Units', 'customUnits')">
            <option>Number (No Units)</option>
            <option>Custom Units</option>
            <option>Time</option>
          </select>
          <label for="taskQuantity">Quantity Needed to Complete</label>
          <input name="taskQuantity" type="number" value="1">
          <label for="customUnits" id="customUnitsLabel" hidden>Custom Units Name</label>
          <input name="customUnits" id="customUnits" type="text" hidden>
        </fieldset>
        <fieldset>
          <label for="taskHourReset">Reset at this time of day</label>
          <input name="taskHourReset" type="time" value="06:00">
          <label for="taskDayReset">Reset after this many days</label>
          <input name="taskDayReset" type="number" value="1" size="">
          <label for="taskTimeAllowed">Time allowed for completion (in minutes)</label>
          <input name="taskTimeAllowed" type="number">
        </fieldset>
        <fieldset>
          <!-- <label for=""></label>
          <input name="" type="">
          <label for=""></label>
          <input name="" type=""> -->
          <label for="desc">Additional Notes:</label>
          <textarea name="desc" id="desc" maxlength="555" placeholder="Write notes here..."></textarea>
        </fieldset>
        <button id="submit-button">Submit</button>
      </form>
      
    </main>
    <footer id="main-footer">

    </footer>
</body>
<script src="/Site-Stuff/Scripting/Snippets/template_level_snippets.js"></script>
<script>
  // creating blank task list if none exists
  if (!localStorage.getItem("Task-List")){
    localStorage.setItem("Task-List", []);
  }
  function showTheThing(theId, verifyText, theThingsId){
    let theThingOption = document.getElementById(`${theId}`).value;
    let theThing = document.getElementById(`${theThingsId}`);
    let theThingsLabel = document.getElementById(`${theThingsId}Label`)

    if(theThingOption === verifyText){
      theThing.removeAttribute("hidden");
      theThingsLabel.removeAttribute("hidden");
      theThing.required = true;
      theThingsLabel.required = true;
      console.log("Ohhh")
    } else {
      theThing.hidden = true;
      theThingsLabel.hidden = true;
      theThing.removeAttribute("required");
      theThingsLabel.removeAttribute("required");
      console.log("snap")
    }
  }
  function setUnitOfMeasurement(){
    let unitOption = document.getElementById("taskUnits")
  }

  function replaceIfExists(theThing){
    if(getItem.)
  }

  function storeFormData(){
    console.log("yeah");
  }
  function displayTaskInfo(){

  }
  
</script>
</html>